"use strict";(self["webpackChunkfront_end_revis"]=self["webpackChunkfront_end_revis"]||[]).push([[198],{9198:function(t,a,e){e.r(a),e.d(a,{default:function(){return h}});var o=function(){var t=this,a=t._self._c;return a("v-main",{staticClass:"list"},[a("v-card",[a("v-list-item",[a("v-list-item-avatar",[a("img",{attrs:{src:"https://thumbs.dreamstime.com/b/cute-panda-bear-cartoon-chef-vector-cooking-cookie-sweet-bakery-cute-panda-bear-cartoon-chef-vector-cooking-cookie-sweet-bakery-216614619.jpg",alt:"John"}})]),a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline"},[t._v(" Drop Point ")]),a("v-list-item-subtitle",[t._v("By Ngurir")])],1)],1),a("v-card-title",[a("v-text-field",{staticStyle:{"margin-top":"30px"},attrs:{"append-icon":"mdi-magnify",label:"Search",outlined:"",hide:"",details:""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}}),a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(a){return t.openDialog("Tambah Drop Point",0)}}},[t._v(" Tambah Drop Point ")])],1)],1),a("v-card",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.dataDropPoint,search:t.search,"item-key":"namaDropPoint",loading:t.loadingState},scopedSlots:t._u([{key:"item.namaDropPoint",fn:function({item:e}){return[a("td",{staticClass:"text-left"},[t._v(t._s(e.namaDropPoint))])]}},{key:"item.alamat",fn:function({item:e}){return[a("td",{staticClass:"text-left"},[t._v(t._s(e.alamat))])]}},{key:"item.kota.namaKota",fn:function({item:e}){return[a("td",{staticClass:"text-left"},[t._v(t._s(e.kota.namaKota))])]}},{key:"item.actions",fn:function({item:e}){return[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",small:"",color:"primary"},on:{click:function(a){return t.getDataDialog(e)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",small:"",color:"error"},on:{click:function(a){return t.deleteItem(e.id)}}},[a("v-icon",[t._v(" mdi-trash-can-outline")])],1)]}}],null,!0)})],1),a("v-dialog",{attrs:{transition:"dialog-top-transition",persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[a("v-card",[a("v-toolbar",{staticClass:"headline",attrs:{color:"brown darken-1",dark:""}},[t._v(" "+t._s(t.dialogMessage)+" ")]),a("v-card-text",[a("v-container",[a("v-text-field",{attrs:{label:"Nama Drop Point",required:""},model:{value:t.formInput.namaDropPoint,callback:function(a){t.$set(t.formInput,"namaDropPoint",a)},expression:"formInput.namaDropPoint"}}),a("v-text-field",{attrs:{label:"Alamat Lengkap",required:""},model:{value:t.formInput.alamat,callback:function(a){t.$set(t.formInput,"alamat",a)},expression:"formInput.alamat"}}),a("v-select",{attrs:{items:t.dataKota,"item-text":"namaKota","item-value":"id",label:"Kota",required:""},model:{value:t.formInput.idKota,callback:function(a){t.$set(t.formInput,"idKota",a)},expression:"formInput.idKota"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(a){return t.cancelConfirmation()}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(a){0==t.dialogMode?t.save():t.saveUpdate()}}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialogDelete,callback:function(a){t.dialogDelete=a},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(" Apakah Yakin Ingin Menghapus Drop Point? ")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(a){return t.cancelConfirmation()}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(a){return t.confirmDelete()}}},[t._v(" Delete ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:t.snackbarTimeout,"auto-height":"","multi-line":"",top:"",right:"",color:t.snackbarOption.color},model:{value:t.snackbarState,callback:function(a){t.snackbarState=a},expression:"snackbarState"}},[a("v-layout",{attrs:{"align-center":"","pr-4":""}},[a("v-icon",{staticClass:"pr-3",attrs:{dark:"",large:""}},[t._v(t._s(t.snackbarOption.icon))]),a("v-layout",{attrs:{column:""}},[a("div",[a("strong",[t._v(t._s(t.snackbarOption.title))])]),a("div",t._l(t.snackbarOption.text,(function(e,o){return a("span",{key:o},[t._v(" "+t._s(e)+" "),a("br")])})),0)])],1)],1)],1)},n=[],i=(e(7658),e(4311)),r=e(9895),s=e(2179);let l=s.$1("token"),c={headers:{Authorization:"Bearer "+l}};var d={name:"DropPointList",data(){return{dataDropPoint:[],dataKota:[],formInput:{},indexData:null,loadingState:!1,dialog:!1,dialogMessage:"",dialogMode:null,dialogDelete:!1,snackbarState:!1,snackbarTimeout:3e3,snackbarOption:{color:null,icon:null,title:null,text:[]},search:null,timeout:1e3,headers:[{text:"Drop Point",value:"namaDropPoint",sortable:!0},{text:"Alamat",value:"alamat",sortable:!0},{text:"Kota",value:"kota.namaKota",sortable:!0},{text:"Actions",value:"actions",align:"center",sortable:!1}]}},mounted(){this.getDataDropPoint(),this.getDataKota()},methods:{getDataKota(){i.Z.get(r.N+"kota",c).then((t=>{this.dataKota=t.data.data})).catch((t=>{let a={color:"error",icon:"mdi-alert-circle",title:"Error",text:["Gagal Mengambil Data Kota",`Code Error : ${t.response.status}`]};this.openSnackbar(a)}))},getDataDropPoint(){this.setLoading(!0),i.Z.get(r.N+"droppoint",c).then((t=>{this.dataDropPoint=t.data.data,this.setLoading(!1)})).catch((t=>{console.log(t);let a={color:"error",icon:"mdi-alert-circle",title:"Error",text:["Gagal Mengambil Data Drop Point",`Code Error : ${t.response.status}`]};this.openSnackbar(a),this.setLoading(!1)}))},setLoading(t){this.loadingState=t},openDialog(t,a){this.dialog=!0,this.dialogMessage=t,this.dialogMode=a},closeDialog(){this.dialog=!1,this.resetForm()},resetForm(){this.formInput={}},openSnackbar(t=null){this.snackbarState=!0,this.snackbarOption=t},save(){i.Z.post(r.N+"droppoint",this.formInput,c).then((()=>{let t={color:"success",icon:"mdi-check-circle",title:"Success",text:["Berhasil Menambahkan Data Drop Point"]};this.openSnackbar(t),this.closeDialog(),this.getDataDropPoint()})).catch((t=>{let a={color:"warning",icon:"mdi-alert-circle",title:"Warning",text:["Gagal Menambahkan Data Drop Point"]};for(let e in t.response.data.message)a.text.push(t.response.data.message[e][0]);this.openSnackbar(a)}))},getDataDialog(t){this.formInput=Object.assign({},t),this.formInput.idKota=parseInt(this.formInput.idKota),this.openDialog("Edit Drop Point",1)},saveUpdate(){i.Z.put(r.N+`droppoint/${this.formInput.id}`,this.formInput,c).then((()=>{let t={color:"success",icon:"mdi-check-circle",title:"Success",text:["Berhasil Mengubah Data Drop Point"]};this.openSnackbar(t),this.closeDialog(),this.getDataDropPoint()})).catch((t=>{console.log(t);let a={color:"warning",icon:"mdi-alert-circle",title:"Warning",text:["Gagal Mengubah Data Drop Point"]};for(let e in t.response.data.message)a.text.push(t.response.data.message[e][0]);this.openSnackbar(a)}))},deleteItem(t){this.indexData=t,this.dialogDelete=!0},confirmDelete(){i.Z["delete"](r.N+`droppoint/${this.indexData}`,c).then((()=>{let t={color:"success",icon:"mdi-check-circle",title:"Success",text:["Berhasil Menghapus Data Drop Point"]};this.openSnackbar(t),this.getDataDropPoint()})).catch((t=>{let a={color:"warning",icon:"mdi-alert-circle",title:"Warning",text:["Gagal Menghapus Data Drop Point",`Code Error : ${t.response.status}`]};this.openSnackbar(a)})),this.dialogDelete=!1},cancelConfirmation(){console.log(this.formInput),this.dialogDelete=!1,this.closeDialog()}}},u=d,p=e(1001),m=(0,p.Z)(u,o,n,!1,null,null,null),h=m.exports},2179:function(t,a,e){e.d(a,{$1:function(){return n},Bt:function(){return i},lE:function(){return o}});const o=(t,a,e)=>{let o="";if(e){let t=new Date;t.setTime(t.getTime()+24*e*60*60*1e3),o="; expires="+t.toUTCString()}document.cookie=t+"="+(a||"")+o+"; path=/"},n=t=>{let a=t+"=",e=document.cookie.split(";");for(let o=0;o<e.length;o++){let t=e[o];while(" "==t.charAt(0))t=t.substring(1,t.length);if(0==t.indexOf(a))return t.substring(a.length,t.length)}return null},i=()=>{let t=document.cookie.split(";");for(let a=0;a<t.length;a++){let e=t[a],o=e.indexOf("="),n=o>-1?e.substr(0,o):e;document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}}}]);
//# sourceMappingURL=198.d5a2932e.js.map