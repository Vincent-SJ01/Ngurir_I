"use strict";(self["webpackChunkfront_end_revis"]=self["webpackChunkfront_end_revis"]||[]).push([[586],{6586:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var a=function(){var t=this,e=t._self._c;return e("v-main",{staticClass:"pa-0 ma-0 LoginBackground",attrs:{fluid:""}},[e("v-form",{ref:"form",staticClass:"d-flex justify-center align-center",style:{height:"100%"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-card",{staticClass:"justify-center",attrs:{persistent:"","min-width":"400px",elevation:"8"}},[e("v-card-title",{staticClass:"mains"},[e("span",{staticClass:"headline text-center"},[e("b",[t._v("Login")])])]),e("v-card-text",[e("v-container",[e("v-text-field",{attrs:{label:"E-mail",rules:t.emailRules,required:""},model:{value:t.formInput.email,callback:function(e){t.$set(t.formInput,"email",e)},expression:"formInput.email"}}),e("v-text-field",{attrs:{label:"Password",type:"password",rules:t.passwordRules,required:""},model:{value:t.formInput.password,callback:function(e){t.$set(t.formInput,"password",e)},expression:"formInput.password"}})],1)],1),e("v-card-actions",{staticClass:"justify-center"},[e("v-btn",{attrs:{color:"red"},on:{click:function(e){return t.login()}}},[t._v(" Login ")])],1),e("v-card-text",{staticClass:"text-center"},[t._v(" ----------------------------- New Account? ----------------------------- ")]),e("v-card-actions",{staticClass:"justify-center"},[e("router-link",{staticClass:"text-decoration-none",attrs:{to:{path:"/RegisterUser"}}},[e("v-btn",{staticClass:"mr-2",attrs:{color:"primary",text:""}},[t._v(" Register User? ")])],1),e("router-link",{staticClass:"text-decoration-none",attrs:{to:{path:"/RegisterKurir"}}},[e("v-btn",{staticClass:"mr-2",attrs:{color:"primary",text:""}},[t._v(" Register Kurir? ")])],1)],1)],1)],1),e("v-snackbar",{attrs:{timeout:t.snackbarTimeout,"auto-height":"","multi-line":"",top:"",right:"",color:t.snackbarOption.color},model:{value:t.snackbarState,callback:function(e){t.snackbarState=e},expression:"snackbarState"}},[e("v-layout",{attrs:{"align-center":"","pr-4":""}},[e("v-icon",{staticClass:"pr-3",attrs:{dark:"",large:""}},[t._v(t._s(t.snackbarOption.icon))]),e("v-layout",{attrs:{column:""}},[e("div",[e("strong",[t._v(t._s(t.snackbarOption.title))])]),e("div",t._l(t.snackbarOption.text,(function(s,a){return e("span",{key:a},[t._v(" "+t._s(s)+" "),e("br")])})),0)])],1)],1)],1)},r=[],n=(s(7658),s(4311)),i=s(9895),o=s(2179),l={name:"LoginPage",data(){return{snackbarState:!1,snackbarTimeout:3e3,snackbarOption:{color:null,icon:null,title:null,text:null},formInput:{email:null,password:null},valid:!1,passwordRules:[t=>!!t||"Password tidak boleh kosong !!"],emailRules:[t=>!!t||"E-mail tidak boleh kosong !!"]}},methods:{login(){let t=/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/,e={};e=t.test(this.formInput.email)?{email:this.formInput.email,password:this.formInput.password}:{username:this.formInput.email,password:this.formInput.password},n.Z.post(i.N+"login",e).then((t=>{console.log(t),console.log(t.data.access_token),o.Bt(),o.lE("token",t.data.access_token,30);let e={color:"success",icon:"mdi-check-circle",title:"Success",text:["Berhasil Login"]};this.switchPage(t.data.user.idRole),this.openSnackbar(e)})).catch((t=>{console.log(t.response.data);let e=t.response.data.message;if("Please verify your email"==e)this.$router.push({name:"NotVerified"});else{e="Invalid Credentials user"==e?"Email atau Password Salah":"Invalid Input";let t={color:"error",icon:"mdi-alert-circle",title:"Error",text:[e]};this.openSnackbar(t)}}))},openSnackbar(t=null){this.snackbarState=!0,this.snackbarOption=t},resetForm(){this.formInput()},switchPage(t){switch(t=parseInt(t),t){case 1:this.$router.push({name:"Admin.Home"});break;case 3:this.$router.push({name:"User"});break;case 2:this.$router.push({name:"Kurir"});break;default:this.$router.push({name:"Login"});break}}}},c=l,u=s(1001),d=(0,u.Z)(c,a,r,!1,null,"55ecf278",null),p=d.exports},2179:function(t,e,s){s.d(e,{$1:function(){return r},Bt:function(){return n},lE:function(){return a}});const a=(t,e,s)=>{let a="";if(s){let t=new Date;t.setTime(t.getTime()+24*s*60*60*1e3),a="; expires="+t.toUTCString()}document.cookie=t+"="+(e||"")+a+"; path=/"},r=t=>{let e=t+"=",s=document.cookie.split(";");for(let a=0;a<s.length;a++){let t=s[a];while(" "==t.charAt(0))t=t.substring(1,t.length);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return null},n=()=>{let t=document.cookie.split(";");for(let e=0;e<t.length;e++){let s=t[e],a=s.indexOf("="),r=a>-1?s.substr(0,a):s;document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}}}]);
//# sourceMappingURL=586.f37455be.js.map